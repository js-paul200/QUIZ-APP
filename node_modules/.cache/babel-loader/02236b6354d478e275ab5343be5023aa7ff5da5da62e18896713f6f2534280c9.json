{"ast":null,"code":"import _toConsumableArray from\"/Users/mac/Desktop/react-quiz/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/mac/Desktop/react-quiz/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mac/Desktop/react-quiz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mac/Desktop/react-quiz/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{fetchQuizQuestions}from'./API';// Components\nimport QuestionCard from'./components/QuestionCard';// types\nimport{Difficulty}from'./API';// Styles\nimport{GlobalStyle,Wrapper}from'./App.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TOTAL_QUESTIONS=10;var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),questions=_useState4[0],setQuestions=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),number=_useState6[0],setNumber=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),userAnswers=_useState8[0],setUserAnswers=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),score=_useState10[0],setScore=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),gameOver=_useState12[0],setGameOver=_useState12[1];var startTrivia=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var newQuestions;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);setGameOver(false);_context.next=4;return fetchQuizQuestions(TOTAL_QUESTIONS,Difficulty.EASY);case 4:newQuestions=_context.sent;setQuestions(newQuestions);setScore(0);setUserAnswers([]);setNumber(0);setLoading(false);case 10:case\"end\":return _context.stop();}},_callee);}));return function startTrivia(){return _ref.apply(this,arguments);};}();var checkAnswer=function checkAnswer(e){if(!gameOver){// User's answer\nvar answer=e.currentTarget.value;// Check answer against correct answer\nvar correct=questions[number].correct_answer===answer;// Add score if answer is correct\nif(correct)setScore(function(prev){return prev+1;});// Save the answer in the array for user answers\nvar answerObject={question:questions[number].question,answer:answer,correct:correct,correctAnswer:questions[number].correct_answer};setUserAnswers(function(prev){return[].concat(_toConsumableArray(prev),[answerObject]);});}};var nextQuestion=function nextQuestion(){// Move on to the next question if not the last question\nvar nextQ=number+1;if(nextQ===TOTAL_QUESTIONS){setGameOver(true);}else{setNumber(nextQ);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GlobalStyle,{}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"REACT QUIZ\"}),gameOver||userAnswers.length===TOTAL_QUESTIONS?/*#__PURE__*/_jsx(\"button\",{className:\"start\",onClick:startTrivia,children:\"Start\"}):null,!gameOver?/*#__PURE__*/_jsxs(\"p\",{className:\"score\",children:[\"Score: \",score]}):null,loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading Questions...\"}):null,!loading&&!gameOver&&/*#__PURE__*/_jsx(QuestionCard,{questionNr:number+1,totalQuestions:TOTAL_QUESTIONS,question:questions[number].question,answers:questions[number].answers,userAnswer:userAnswers?userAnswers[number]:undefined,callback:checkAnswer}),!gameOver&&!loading&&userAnswers.length===number+1&&number!==TOTAL_QUESTIONS-1?/*#__PURE__*/_jsx(\"button\",{className:\"next\",onClick:nextQuestion,children:\"Next Question\"}):null]})]});};export default App;","map":{"version":3,"names":["React","useState","fetchQuizQuestions","QuestionCard","Difficulty","GlobalStyle","Wrapper","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TOTAL_QUESTIONS","App","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","questions","setQuestions","_useState5","_useState6","number","setNumber","_useState7","_useState8","userAnswers","setUserAnswers","_useState9","_useState10","score","setScore","_useState11","_useState12","gameOver","setGameOver","startTrivia","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newQuestions","wrap","_callee$","_context","prev","next","EASY","sent","stop","apply","arguments","checkAnswer","e","answer","currentTarget","value","correct","correct_answer","answerObject","question","correctAnswer","concat","_toConsumableArray","nextQuestion","nextQ","children","length","className","onClick","questionNr","totalQuestions","answers","userAnswer","undefined","callback"],"sources":["/Users/mac/Desktop/react-quiz/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { fetchQuizQuestions } from './API';\n// Components\nimport QuestionCard from './components/QuestionCard';\n// types\nimport { QuestionsState, Difficulty } from './API';\n// Styles\nimport { GlobalStyle, Wrapper } from './App.styles';\n\nexport type AnswerObject = {\n  question: string;\n  answer: string;\n  correct: boolean;\n  correctAnswer: string;\n};\n\nconst TOTAL_QUESTIONS = 10;\n\nconst App: React.FC = () => {\n  const [loading, setLoading] = useState(false);\n  const [questions, setQuestions] = useState<QuestionsState[]>([]);\n  const [number, setNumber] = useState(0);\n  const [userAnswers, setUserAnswers] = useState<AnswerObject[]>([]);\n  const [score, setScore] = useState(0);\n  const [gameOver, setGameOver] = useState(true);\n\n  const startTrivia = async () => {\n    setLoading(true);\n    setGameOver(false);\n    const newQuestions = await fetchQuizQuestions(\n      TOTAL_QUESTIONS,\n      Difficulty.EASY\n    );\n    setQuestions(newQuestions);\n    setScore(0);\n    setUserAnswers([]);\n    setNumber(0);\n    setLoading(false);\n  };\n\n  const checkAnswer = (e: any) => {\n    if (!gameOver) {\n      // User's answer\n      const answer = e.currentTarget.value;\n      // Check answer against correct answer\n      const correct = questions[number].correct_answer === answer;\n      // Add score if answer is correct\n      if (correct) setScore((prev) => prev + 1);\n      // Save the answer in the array for user answers\n      const answerObject = {\n        question: questions[number].question,\n        answer,\n        correct,\n        correctAnswer: questions[number].correct_answer,\n      };\n      setUserAnswers((prev) => [...prev, answerObject]);\n    }\n  };\n\n  const nextQuestion = () => {\n    // Move on to the next question if not the last question\n    const nextQ = number + 1;\n\n    if (nextQ === TOTAL_QUESTIONS) {\n      setGameOver(true);\n    } else {\n      setNumber(nextQ);\n    }\n  };\n\n  return (\n    <>\n      <GlobalStyle />\n      <Wrapper>\n        <h1>REACT QUIZ</h1>\n        {gameOver || userAnswers.length === TOTAL_QUESTIONS ? (\n          <button className='start' onClick={startTrivia}>\n            Start\n          </button>\n        ) : null}\n        {!gameOver ? <p className='score'>Score: {score}</p> : null}\n        {loading ? <p>Loading Questions...</p> : null}\n        {!loading && !gameOver && (\n          <QuestionCard\n            questionNr={number + 1}\n            totalQuestions={TOTAL_QUESTIONS}\n            question={questions[number].question}\n            answers={questions[number].answers}\n            userAnswer={userAnswers ? userAnswers[number] : undefined}\n            callback={checkAnswer}\n          />\n        )}\n        {!gameOver && !loading && userAnswers.length === number + 1 && number !== TOTAL_QUESTIONS - 1 ? (\n          <button className='next' onClick={nextQuestion}>\n            Next Question\n          </button>\n        ) : null}\n      </Wrapper>\n    </>\n  );\n};\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}